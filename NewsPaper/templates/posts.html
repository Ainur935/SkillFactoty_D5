{% extends 'flatpages/default.html' %}
{% load custom_filters %}
{% block title %}
Posts
{% endblock title %}
{% block content %}
<h1>Все новости</h1>
<h3>Количество новостей:{{posts|length}}</h3>
<hr>
{% if posts %}
<table>
    <tr>
        <td>
            Заголовок
        </td>
        <td>
            Дата публикации
        </td>
        <td>
            Текст
        </td>
    </tr>
{% for post in posts %}
    <tr>
        <td>
            {{post.heading}}
        </td>
        <td>
            {{post.creation_time|date:'d M Y'}}
        </td>
        <td>
            {{post.text|truncatechars:20}}
        </td>
    </tr>
{%endfor%}
</table>
{%else%}
Новостей пока нет.
{%endif%}
{% endblock content %}